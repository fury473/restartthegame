{% extends 'RTGSiteBundle::layout.html.twig' %}

{% block title %}Contact - RTG{% endblock %}

{% block content %}
<div class="bloc">
    <h1>Contact</h1>
    <p>Des questions ? N'hésitez par à nous contacter.</p>
    {{ form_start(form) }}
        <div class="form-group">
            {{ form_label(form.object) }}
            {{ form_widget(form.object) }}
        </div>
        <div class="form-group" id="other_object">
            {{ form_label(form.other_object) }}
            {{ form_widget(form.other_object) }}
        </div>
        <div class="form-group">
            {{ form_label(form.message) }}
            {{ form_widget(form.message) }}
        </div>
        <div class="form-group">
            {{ form_row(form.captcha) }}
        </div>
        <div class="form-group">
            {{ form_widget(form.send) }}
        </div>
        {{ form_rest(form) }}
    {{ form_end(form) }}
    
    {#
    <h2>Postuler</h2>
    <p>De plus, si vous vous sentez de nous venir en aide, rejoignez nous au sein de la RTG. Pour cela vous devrez remplir le formulaire suivant.</p>
    <a href="{{ path('candidature_rtg') }}" title="Candidature RTG" class="btn btn-primary">Candidature RTG</a>
    #}
</div>
{% endblock %}
    
{% block javascript %}
    {{ parent() }}
    <script>
        function refresh_other_object() {
            if($("#rtg_sitebundle_contact_object option:selected").val() === "Autre") {
                $("#other_object").removeClass("hidden");
                $("#other_object input").removeAttr('disabled');
                $("#other_object input").focus();
            } else if(!$("#other_object").hasClass("hidden")) {
                $("#other_object").addClass("hidden");
                $("#rtg_sitebundle_contact_other_object input").attr("disabled", "disabled");
            }
        }
        $(document).ready(function() { 
            refresh_other_object();
            $("#rtg_sitebundle_contact_object").change(function() { 
                refresh_other_object();
            });
        });
    </script>
{% endblock %}
